{% extends 'base.html' %}

{% block title %}Geographical Areas{% endblock %}


{% block content %}

<form id="form-add-area" action="" method="POST" enctype="multipart/form-data">
    {% csrf_token%}
    {{ form.as_p }}

    <div class="mb-3">
        <label for="geographical_area" class="form-label"><b>Add new one:</b></label>
        <textarea class="form-control" id="geographical_area" name="geographical_area" rows="2" required></textarea>
    </div>
    <div class="mb-3">
        <label for="image-area"><b>Image:</b> </label>
        <input type="file" id="image-area" name="image" onchange="previewFile(this);" required><br>
        <img class="img-small" id="previewImg" src="" alt="Placeholder">
    </div>

    <input type="submit" id="submit-area" value="Add">
</form><br><br>

<input id="myInput" type="text" placeholder="search geographical area.."><br><br>

{% if areas %}
    <table class="areas-table" id="myTable">
        {% for area in areas %}
            {% if forloop.counter0|divisibleby:4 %}
                <tr>
            {% endif %}
                <td>
                    <h3 align="center" style="padding-bottom: 7px">{{ area.area }}</h3>
                    {% if area.image %}
                        <a class="image" href="{{ area.image.url }}">
                            <img class="img-small" src="{{ area.image.url }}">
                        </a>
                    {% endif %}
                </td>
            {% if forloop.counter|divisibleby:4 %}
                </tr>
            {% endif %}
        {% endfor %}
        </tr>
    </table>
{% else %}
    <p>No areas found.</p>
{% endif %}

<div class="lightbox">
    <div class="lightbox-cnt">
        <img src="" class="lightbox-img">
        <button class="lightbox-close"><span>&#10006;</span></button>
    </div>
</div>


{% endblock %}
